<script type="text/ls-javascript" id="search-local-js-script">var searchFunc=function(a,b,c){"use strict";$.ajax({url:a,dataType:"xml",success:function(a){var d=$("entry",a).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),e=document.getElementById(b),f=document.getElementById(c);e.addEventListener("input",function(){var a='<ul class="search-result-list">',b=this.value.trim().toLowerCase().split(/[\s\-]+/);f.innerHTML="",this.value.trim().length<=0||(d.forEach(function(c){var l,m,n,o,d=!0,f=c.title.trim().toLowerCase(),g=c.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),h=c.url,i=-1,j=-1,k=-1;""!==f&&""!==g&&b.forEach(function(a,b){i=f.indexOf(a),j=g.indexOf(a),0>i&&0>j?d=!1:(0>j&&(j=0),0===b&&(k=j))}),d&&(a+='<li><a href="'+h+'" class="search-result-title" target="_blank">'+f,l=c.content.trim().replace(/<[^>]+>/g,""),k>=0&&(m=k-6,n=k+6,0>m&&(m=0),0===m&&(n=10),n>l.length&&(n=l.length),o=l.substr(m,n),b.forEach(function(a){var b=new RegExp(a,"gi");o=o.replace(b,'<em class="search-keyword">'+a+"</em>")}),a+='<p class="search-result">'+o+"...</p>"+"</a>"))}),f.innerHTML=a)})}})};</script>
