---
title: 云主机和 VPS 的区别
tags:
  - VPS
  - 云主机
  - 服务器
categories:
  - 实验室
date: 2017-10-8 15:35:00
updated: 2017-10-8 15:35:00
thumbnail: https://s.nfz.yecdn.com/img/thumbnails/compare-vps-ecs-vh.png!blogth
---

很多站长对于云主机、VPS、虚拟主机之间的区别都不知所以，很多解释这些概念的文章也经常出现各种错误，使得这些概念经常被混淆。所以我也写一篇阐述它们区别的文章。

<!-- more -->

# VPS

VPS(Virtual Private Server)，中文名称是虚拟专用服务器。详细的定义可以去看 [维基百科 - VPS](https://zh.wikipedia.org/wiki/虚拟专用服务器)。通俗点讲，就是在一台大型的独立服务器上，通过一定的技术（如虚拟化或者容器化）和一定的软件（VMWare、Xen、KVM、OpenVZ），将这台大型独立服务器的运存、处理器、硬盘进行划分成一个一个小的 VPS，每一台 VPS 都可以分配到独立公网 IP 地址、独立资源和独立系统配置，用户可以安装独立操作系统、单独对自己的 VPS 进行重启和关机。

# 云主机

云主机我见过的常见的两个英文缩写是 CVM(Cloud Virtual Machine 腾讯云使用这个名词) 和 ECS(Elastic Compute Service 阿里云和华为云使用这个名词)。
理解云主机的概念，就必须抛开一台独立的大型服务器的概念，而要明白一个概念——算池。
以阿里云为例。阿里云在国内很多地区都建设了数据中心，在数据中心中所有服务器都是内网互通的。在数据中心里有专门负责存储的机器，配备有大型 HDD 和 SSD 组成 RAID 存储阵列，这些机器组成存储池；有专门负责运算的机器，根据不同的需求有不同的配置（如多核 CPU、强劲的 GPU 和大运存），这些机器组成运算池；有专门进行网络分配和调度的交换机，组成了虚拟网关。

> 当然，这些算池还会往下细分、以便在不同业务的不同需求中完成调度。


# 区别

## 可用性

从可用性来讲，VPS 的可用性是要低于云主机的。VPS 的宿主机一旦出现软硬件故障，就会影响到上面的虚拟出来的 VPS。而在云计算池中，如果算池中的某个部分甚至一个物理单位出现故障而离线，大部分情况下都可以由算池中其它部分接替工作，所以云计算一般不会出现整个服务出现大规模故障的情况。

## 灵活性

以升级你的主机配置为例。VPS 升级配置需要先关闭你的 VPS，然后分配更多的 CPU、运存和硬盘给你的 VPS；虽然 VPS 的宿主机可能有足够强劲的配置，但是一旦你的需求在你目前的宿主机上无法得到满足，你就有可能需要让主机商将你的数据转移到另一台宿主机上重新分配资源虚拟出一个 VPS。而对于云主机，升级配置只需要从算池中分配给你更多的资源即可，非常灵活。

> 这些就是阿里云、腾讯云、美团云这类云计算创立的初衷——把平时业务较少时从算池中将闲置的算力拿出来卖钱。所以会有这么一句很有意思的话——“双十一期间，你的阿里云主机隔壁就有可能是淘宝的后端服务。”

## 性能

通常情况下，云主机的性能会比 VPS 差很多，在 IO 性能表现的尤为明显。整个算池分工明确，所有算力都通过内网传输，内网的传输速度是远远不如单一硬件设备之间传输的。举例说明，阿里云的 IO 性能平均为 120M/s，而较好性能的宿主机上的 VPS 的 IO 性能可以达到 1G/s 。

-----

> 实际上对于一般情况，云主机和 VPS 的性能的区别是感觉不明显的；VPS 的可用性和 SLA 也不会逊于云主机。在实际的使用体验和操作中也并不能感受到云主机和 VPS 之间的区别；具体如何选择还是要根据自己的业务需要和预算。
